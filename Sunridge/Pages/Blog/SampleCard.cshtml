@page
@model Sunridge.Pages.Blog.SampleCardModel
@{
    ViewData["Title"] = "SampleCard";
}
<style>
    .card {
        margin-left: -15px;
        margin-right: -15px;
    }
</style>
<h1>SampleCard</h1>


@*<div class="card promoting-card shadow">
    <div class="card-body d-flex flex-row no-gutters row-no-gutter">
        <div class="col-2">
            <img src="~/Images/BlogImages/ProfilePictures/LoganCircle.png" class="rounded-circle mr-3" height="50px" width="50px" alt="avatar">
        </div>
        <div class="col-8">
            <div>
                <h4 class="card-title font-weight-bold mb-2">@thread.ApplicationUser.FullName</h4>
                <p class="card-text"><i class="far fa-clock pr-2"></i>@thread.WhenPosted.Date.ToShortDateString() at @thread.WhenPosted.ToString(@"h\:mm\ tt")</p>
            </div>
        </div>
        <div class="col-2">
            <i class="fas fa-window-close fa-pull-right text-danger fa-2x"></i>
        </div>
    </div>
    <div class="card-body">
        <div class="card-text">
            <p class="card-text">@thread.BlogComments[0].BlogCommentText</p>
            <hr />

            <div class="view overlay">
                <p class="card-text p-2 m-2">@thread.BlogComments[0].BlogCommentText</p>
                @if (thread.BlogComments[0].Images.Count > 0)
                {
                    <div id="demo" class="carousel slide" data-ride="carousel">
                        <ul class="carousel-indicators">
                            @for (int i = 0; i < thread.BlogComments[0].Images.Count; i++)
                            {
                                if (i == 0)
                                {
                                    <li data-target="#demo" data-slide-to="0" class="active"></li>
                                }
                                else
                                {
                                    <li data-target="#demo" data-slide-to="@i"></li>
                                }
                            }
                        </ul>
                        <div class="carousel-inner">
                            @for (int i = 0; i < thread.BlogComments[0].Images.Count; i++)
                            {
                                if (i == 0)
                                {
                                    <div class="carousel-item active">
                                        <div class="view overlay">
                                            <img class="card-img-top rounded-0" src="@thread.BlogComments[0].Images[i].ImgPath" width="360" height="640">
                                        </div>
                                    </div>
                                }
                                else
                                {
                                    <div class="carousel-item">
                                        <img src="@thread.BlogComments[0].Images[i].ImgPath" width="360" height="640">
                                    </div>
                                }
                            }
                        </div>
                        @if (@thread.BlogComments[0].Images.Count > 1)
                        {
                            <a class="carousel-control-prev" href="#demo" data-slide="prev">
                                <span class="carousel-control-prev-icon"></span>
                            </a>
                            <a class="carousel-control-next" href="#demo" data-slide="next">
                                <span class="carousel-control-next-icon"></span>
                            </a>
                        }
                    </div>
                }
                <a href="#!">
                    <div class="mask rgba-white-slight"></div>
                </a>
            </div>

            <div class="row">
                <div class="col-6 text-center">
                    <i class="far fa-comment-alt text-dark text-center p-1 my-1" onclick="toggleCommentBox(@thread.Id)"> Comment</i>
                </div>
                <div class="col-6 text-center">
                    <i class="far fa-thumbs-up text-dark text-center p-1 my-1 mr-3" onclick="LikeThread(@thread.BlogComments[0].Id)"> Like</i>
                </div>
            </div>
        </div>
    </div>
    <hr />
    <button id="showCommentsButton(@thread.Id)" class="btn bg-white text-info" onclick="showComments(@thread.Id)"><span>View Comments </span><i id="showCommentsIcon(@thread.Id)" class="fas fa-arrow-down text-info"></i></button>
    <div id="comments(@thread.Id)" class="comments">
        @if (thread.BlogComments != null && thread.BlogComments.Count > 1)
        {
            @foreach (var comment in thread.BlogComments)
            {
                @if (comment.Equals(thread.BlogComments[0])) { continue; }
                <div class="card-body d-flex flex-row">
                    <img src="https://mdbootstrap.com/img/Photos/Avatars/avatar-8.jpg" class="rounded-circle mr-3" height="25px" width="25px" alt="avatar">
                    <div>
                        <span class="card-title font-weight-bold mb-2"><strong>@comment.ApplicationUser.FullName</strong></span>

                        <p class="card-text"><i class="far fa-clock pr-2"></i>@comment.WhenPosted.ToShortTimeString()</p>
                        <span>@comment.BlogCommentText</span>
                    </div>
                </div>
                @if (comment.Images.Count > 0)
                {
                    <div class="row ml-1 mr-1">
                        @foreach (var img in comment.Images)
                        {
                            <img class="commentPhoto border img-fluid" src="@img.ImgPath" style="display: inline;" /><span>&nbsp;</span>
                        }
                    </div>
                }
                <div class="row rounded pl-1 pr-1 ml-1 mr-1 mb-1">
                    <div class="col-4"><button class="btn bg-white"><i class="far fa-thumbs-up text-info"> Like</i></button></div>
                    <div class="col-4"><button class="btn bg-white" onclick="toggleReplyBox(@comment.Id)"><i class="far fa-comment text-info"> Reply</i></button></div>
                </div>

                <div class="row offset-3 mx-1" id="reply(@comment.Id)" style="display: none;">
                    <div class="col-sm-12"><i class="fas fa-pencil-alt"> Reply</i></div>
                    <form method="post">
                        <div class="col-sm-12"><textarea id="reply(@comment.Id)" name="reply(@comment.Id)"></textarea></div>
                        <div class="col-sm-12"><button type="submit" asp-page-handler="Reply" asp-route-id="@comment.Id" class="btn btn-info">Post</button> <button class="btn btn-danger">Cancel</button></div>
                    </form>
                </div>
                @foreach (var reply in comment.Replies)
                {
                    <div class="row p-1 mb-1 offset-2">
                        <div class="col-sm-12">
                            <div class="btn rounded text-left">
                                <span><strong>App User Name Here</strong><br />@reply.ReplyText</span>
                            </div>
                        </div>
                    </div>
                }
            }
        }
    </div>

    <br />
    <div class="row">
        <div class="col-12">
            <div id="box(@thread.Id)" class="commentBox">
                <h5>Add a comment below...</h5>
                <form method='POST' enctype="multipart/form-data">
                    <div class='card-body d-flex flex-row'>
                        <textarea id="textarea(@thread.Id)" name="textarea(@thread.Id)" class='form-control z-depth-1' style='min-width: 100%' placeholder='Your comment here'></textarea>
                    </div>
                    <div class="row">
                        <input name="commentImages(@thread.Id)" id="commentImages(@thread.Id)" type="file" multiple="multiple" class="offset-1" />
                    </div>
                    <br />
                    <div class='row'>
                        <div class='col-4'>
                            <button type='submit' class='btn btn-sm btn-info form-control' asp-page-handler='Comment' asp-route-threadId='@thread.Id'><i class='fas fa-sticky-note'></i> Post</button>
                        </div>
                        <div class='col-4'>
                            <button type="button" class='btn btn-sm btn-danger form-control' onclick='toggleCommentBox(@thread.Id)'><i class='far fa-trash-alt'></i> Cancel</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

</div>*@






<div class="container-fluid my-5" style="margin-left: -15px; margin-right: -15px;">
    <div>
        <h5>How to Upload a Profile Picture</h5>
        <p>
            In order to upload a profile picture to use on the forum, it is strongly suggested that
            you click the button below and follow the instructions on how to create a circular profile picture.
        </p>
    </div>
    <br />
    <div>
        <a class="btn btn-info" href="https://www.lunapic.com/editor/?action=crop-circle&aspect=1"><i class="far fa-image"></i> Create a Profile Picture</a>
    </div>
</div>