@page
@model Sunridge.Pages.Blog.IndexModel
@{
    ViewData["Title"] = "Index";
}

<div class="jumbotron">
    <h1>Sunridge Forum</h1>
    <h3>Post updates, share stories, and connect with your fellow Sunridge members.</h3>
</div>

@foreach (var thread in Model.Threads)
{
    <div class="card promoting-card shadow">
        <div class="card-body d-flex flex-row">
            <img src="https://mdbootstrap.com/img/Photos/Avatars/avatar-8.jpg" class="rounded-circle mr-3" height="50px" width="50px" alt="avatar">
            <div>
                <h4 class="card-title font-weight-bold mb-2">@thread.ApplicationUser.FullName</h4>
                <p class="card-text"><i class="far fa-clock pr-2"></i>@thread.WhenPosted.ToShortTimeString()</p>
            </div>
        </div>

        <div class="view overlay">
            <p class="card-text p-1 m-1">Recently, we added several exotic new dishes to our restaurant menu. They come from countries such as Mexico, Argentina, and Spain. Come to us, have some delicious wine and enjoy our juicy meals from around the world.</p>

            @*<img class="card-img-top rounded-0" src="@thread.Comments[0].Images" alt="Card image cap">*@
            <a href="#!">
                <div class="mask rgba-white-slight"></div>
            </a>
        </div>

        <div class="card-body">
            <div class="collapse-content">
                <hr />
                <div class="row text-center">
                    <div class="col-6 text-center">
                        <button class="btn btn-info text-white" onclick="LikeThread(@thread.ApplicationUserId.ToString(), @thread.Comments[0].Id)">@*<i class="far fa-thumbs-up text-white p-1 my-1">&nbsp;Like&nbsp;</i>*@</button>
                    </div>
                    <div class="col-6 text-center">
                        <button class="btn btn-info text-white"><i class="fa fa-comment text-white p-1 my-1 mr-3">&nbsp;Comment</i></button></div>
                </div>
                <hr />
            </div>
        </div>
        @*@if (thread.Comments.Count > 1)
        {
            foreach (var comment in thread.Comments)
            {
                <p>@comment.ApplicationUser.FullName</p>
                <p>@comment.WhenPosted.ToLongTimeString()</p>
                <p class="img-circle rounded m-3 p-1" style="background-color:lightgray">@comment.CommentText</p>
            }
        }
        else
        {
            <p>No comments to display.</p>
        }*@
    </div>
    <br />
}